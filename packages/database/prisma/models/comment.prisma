model Comment {
    id              String   @id @default(uuid()) @db.Uuid
    parentCommentId String?  @db.Uuid
    depth           Int
    content         String
    isEdited        Boolean  @default(false)
    createdAt       DateTime @default(now())
    updatedAt       DateTime @updatedAt

    postId String @db.Uuid
    post   Post   @relation(fields: [postId], references: [id])

    authorId String @db.Uuid
    author   User   @relation(fields: [authorId], references: [id])

    parent   Comment?  @relation("CommentToComment", fields: [parentCommentId], references: [id], onDelete: Cascade, onUpdate: NoAction)
    children Comment[] @relation("CommentToComment")

    @@index([postId])
    @@index([authorId])
    @@index([parentCommentId])
}
